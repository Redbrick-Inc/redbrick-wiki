import { Callout } from "nextra/components";
import { Steps } from "nextra/components";
import { Tabs } from "nextra/components";

# Character speed change period under certain conditions

<Callout type="info">
  To change movement speed of an avatar, you can use
  `avatar.changePlayerSpeed(1)`, by default speed is 1. More information about
  avatar api can be found [here](../../script/api/avatar)
</Callout>
<Callout type="error" icon="‼️">
  Don't forget to check Body in the object's properties panel to use methods
  like `onCollide`!
  <center>![](../../../images/example-collect-body.png) Physics -> Body</center>
</Callout>
<br />
<center>![](../../../images/example-boost.gif) Result </center>

<Steps>

### Place objects wherever you want

Place the object where you want it.

<br />
<center>![](../../../images/example-boost.png) Boost Item </center>

### Code

<Callout type="error" icon="‼️">
  Don't forget to check Body in the object's properties panel to use methods
  like `onCollide`!
  <center>![](../../../images/example-collect-body.png) Physics -> Body</center>
</Callout>

<Tabs items={["example 1", "example 2"]} defaultIndex="0">
    <Tabs.Tab>

        In this example, you can learn how to utilize the avatar within the async function.

        ```js showLineNumbers copy filename ="PresetScript" {13}
            const boost = WORLD.getObject("boostTitle");

            function Start() {
                (async () => {
                    const avatar = await REDBRICK.AvatarManager.createDefaultAvatar();
                    const camera = WORLD.getObject("MainCamera");
                    const followingCamera = avatar.setFollowingCamera(camera);
                    avatar.setDefaultController();

                    // use here avatar related logic
                    boost.onCollide(avatar, () => {
                        boost.kill();
                        //change avatar speed
                        avatar.changePlayerSpeed(2);
                    });
                })();
            }
        ```

    </Tabs.Tab>

    <Tabs.Tab>

        ```js showLineNumbers copy filename="PresetScript" {8}
        function Start() {
            (async () => {
                const avatar = await REDBRICK.AvatarManager.createDefaultAvatar();
                const camera = WORLD.getObject("MainCamera");
                const followingCamera = avatar.setFollowingCamera(camera);
                avatar.setDefaultController();

                //send `avatarIsReady` signal
                REDBRICK.Signal.send("avatarIsReady", avatar);
            })();
        }
        ```

        ```js showLineNumbers copy filename="otherScript" {8}
        const boost = WORLD.getObject("boostTitle");

        function Start() {

            REDBRICK.Signal.addListener("avatarIsReady", (avatar)=>{
                boost.onCollide(avatar, ()=>{
                    boost.kill();
                    //change avatar speed
                    avatar.changePlayerSpeed(2);
                });
            });
        }
        ```

    </Tabs.Tab>

</Tabs>

### Make it fast for 3 seconds when you eat a specific item

<Tabs items={["example 1", "example 2"]} defaultIndex="0">
    <Tabs.Tab>

        ```js showLineNumbers copy filename ="PresetScript" {15-17}
            const boost = WORLD.getObject("boostTitle");

            function Start() {
                (async () => {
                    const avatar = await REDBRICK.AvatarManager.createDefaultAvatar();
                    const camera = WORLD.getObject("MainCamera");
                    const followingCamera = avatar.setFollowingCamera(camera);
                    avatar.setDefaultController();

                    // use here avatar related logic
                    boost.onCollide(avatar, () => {
                        boost.kill();
                        //change avatar speed
                        avatar.changePlayerSpeed(2);
                        setTimeout(() => {
                            PLAYER.changePlayerSpeed(1)
                        }, 3000)
                    });
                })();
            }
        ```

    </Tabs.Tab>

    <Tabs.Tab>


        ```js showLineNumbers copy filename="PresetScript" {8}
        function Start() {
            (async () => {
                const avatar = await REDBRICK.AvatarManager.createDefaultAvatar();
                const camera = WORLD.getObject("MainCamera");
                const followingCamera = avatar.setFollowingCamera(camera);
                avatar.setDefaultController();

                //send `avatarIsReady` signal
                REDBRICK.Signal.send("avatarIsReady", avatar);
            })();
        }
        ```

        ```js showLineNumbers copy filename="otherScript" {10-13}
        const boost = WORLD.getObject("boostTitle");

        function Start() {

            REDBRICK.Signal.addListener("avatarIsReady", (avatar)=>{
                boost.onCollide(avatar, ()=>{
                    boost.kill();
                    //change avatar speed
                    avatar.changePlayerSpeed(2);
                    setTimeout(() => {
                        PLAYER.changePlayerSpeed(1)
                    }, 3000)
                });
            });
        }
        ```

    </Tabs.Tab>

</Tabs>

</Steps>
