import { Callout, Code } from "nextra/components";
import { Steps } from "nextra/components";
import { Tabs } from "nextra/components";

# Create Save Point

<br />
<center>![](../../../images/example-savepoints.gif) Example</center>

## Code

<Callout type="error" icon="‼️">
  Don't forget to check Body in the object's properties panel to use methods
  like `onCollide`!
  <center>![](../../../images/example-collect-body.png) Physics -> Body</center>
</Callout>

```js showLineNumbers copy filename="PresetScript"
//intialize avatar here
let avatar;
let startLocation = WORLD.getObject("StartLocation(aa3)");

function Start() {
  (async () => {
    //store avatar into the `avatar`
    avatar = await REDBRICK.AvatarManager.createDefaultAvatar();
    const camera = WORLD.getObject("MainCamera");
    const followingCamera = avatar.setFollowingCamera(camera);
    avatar.setDefaultController();

    setSavePoints(avatar);
  })();
}

function setSavePoints(avatar) {
  // 4 save points form spawn1 ~ spawn4
  for (let i = 1; i < 5; i++) {
    const point = WORLD.getObject("spawn" + i);

    point.onCollide(avatar, () => {
      startLocation = point;
      console.log(startLocation, point);
    });
  }
}

function Update(dt) {
  //check if avatar exists
  if (avatar) {
    //respawn when avatar y position is less than -5
    if (avatar.position.y < -5) {
      avatar.spawn(startLocation);
    }
  }
}
```
